<form #formNewExpense [formGroup]="formGroupExpense" autocomplete="off" class="form">
    <div class="form-group header input-group"
    [ngClass]="{'error': (displayErrors || formGroupControls.value.touched) && formGroupControls.value.errors}">
        <div class="input-group-prepend">
          <span class="input-group-text currency" id="basic-addon1">R$</span>
        </div>
        <input type="text" class="form-control"
        id="inputValue"
        formControlName="value"
        placeholder="00,00"
        mask="separator.2"
        thousandSeparator="."
      >
    </div>

    <div class="form-group d-flex p-3"
        [ngClass]="{'error': (displayErrors || formGroupControls.value.touched) && formGroupControls.category.errors}">
        <label for="inputCategory">
            <fa name="star"></fa>
        </label>
        <div class="ng-autocomplete">
            <ng-autocomplete
            formControlName="category"
              [data]="categories"
              [searchKeyword]="'name'"
              [placeHolder]="'What it was for?'"
              [itemTemplate]="itemTemplate"
              [notFoundTemplate]="notFoundTemplate" >
            </ng-autocomplete>

            <ng-template #itemTemplate let-item class="">
                <div class="d-flex align-items-center">
                    <fa name="heart"></fa>
                    <a [innerHTML]="item.name" >
                            </a>
                </div>
            </ng-template>

            <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
            </ng-template>
            </div>

    </div>
    <div class="form-group d-flex p-3"
    [ngClass]="{'error': (displayErrors || formGroupControls.date.touched) && formGroupControls.date.errors}">
        <label for="inputDate" (click)="dp.toggle()"><fa name="calendar"></fa></label>
        <input type="text" class="form-control" id="inputDate"
        formControlName="date" readonly="readonly"
        #dp="bsDatepicker"
           bsDatepicker
           [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',  returnFocusToInput: true, containerClass: 'theme-orange', adaptivePosition:true }"
           [bsValue]="bsValue" [maxDate]="maxDate">

    </div>

    <div class="form-group d-flex">
      <div class="btn-group centered" dropdown>
          <label for="button-basic1"><strong>Forma de Pagamento</strong></label>
          <button id="button-basic1" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
                aria-controls="dropdown-basic" name="formaPagamento" ngDefaultControl [(ngModel)]="formaPagamento" [ngModelOptions]="{standalone: true}">
          {{ formaPagamento }} <span class="caret"></span>
        </button>
        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
            role="menu" aria-labelledby="button-basic">
          <li role="menuitem"><a class="dropdown-item" href="#" *ngFor="let fp of formasPagamento" (click)="onChange(fp)">{{ fp }}</a></li>
        </ul>
      </div>

      <div class="btn-group centered" dropdown>
        <label for="button-basic1"><strong>Status</strong></label>
        <button id="button-basic" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
                aria-controls="dropdown-basic" name="formaPagamento" ngDefaultControl [(ngModel)]="statusPagamento" [ngModelOptions]="{standalone: true}">
          {{ statusPagamento }} <span class="caret"></span>
        </button>
        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
            role="menu" aria-labelledby="button-basic">
          <li role="menuitem"><a class="dropdown-item" href="#" *ngFor="let sp of statusPagamentos" (click)="onChangeStatus(sp)">{{ sp }}</a></li>
        </ul>
      </div>
    </div>
<!--
    <div class="form-group d-flex p-3"
    [ngClass]="{'error': (displayErrors || formGroupControls.location.touched) && formGroupControls.location.errors}">
        <label for="inputLocation"><fa name="map-marker"></fa></label>
        <input type="text" class="form-control" id="inputLocation"
        formControlName="location"
        placeholder="Status de pagamento">
    </div> -->

    <div class="form-group d-flex"
     [ngClass]="{'error': (displayErrors || formGroupControls.notes.touched) && formGroupControls.notes.errors}">
        <accordion [isAnimated]="true" class="list-group">
            <accordion-group [isOpen]="false">
                <div accordion-heading class="d-flex flex-column">
                    <label class="title"><fa name="sticky-note"></fa>Descrição</label>
                </div>
                <div class="list-group-item list-group-item-action ">
                    <textarea type="text" class="form-control" id="inputNotes"
                    formControlName="notes"
                    placeholder="Digite aqui alguma descrição..."></textarea>
                </div>
            </accordion-group>
        </accordion>
    </div>

</form>
